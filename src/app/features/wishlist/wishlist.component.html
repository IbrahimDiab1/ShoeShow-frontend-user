<div class="wishlist-container">
  <h1>Your Wishlist</h1>

  @if (loading) {
    <div class="loading-container">
      <mat-spinner></mat-spinner>
    </div>
  } @else if (error) {
    <div class="error-container">
      <p>{{ error }}</p>
      <button mat-raised-button color="primary" (click)="loadWishlist()">Try Again</button>
    </div>
  } @else if (wishlistItems.length === 0) {
    <div class="empty-wishlist">
      <p>Your wishlist is empty</p>
      <button mat-raised-button color="primary" (click)="continueShopping()">Continue Shopping</button>
    </div>
  } @else {
    <div class="wishlist-grid">
      @for (item of wishlistItems; track item.productId) {
        <mat-card class="wishlist-item">
          <img mat-card-image [src]="getImageUrl(item.img)" [alt]="item.name">
          <mat-card-content>
            <h3>{{ item.name }}</h3>
            <p class="price">${{ item.price }}</p>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button color="primary" (click)="moveToCart(item)">
              <mat-icon>shopping_cart</mat-icon>
              Add to Cart
            </button>
            <button mat-icon-button color="warn" (click)="removeFromWishlist(item.productId)">
              <mat-icon>delete</mat-icon>
            </button>
          </mat-card-actions>
        </mat-card>
      }
    </div>
  }
</div>
